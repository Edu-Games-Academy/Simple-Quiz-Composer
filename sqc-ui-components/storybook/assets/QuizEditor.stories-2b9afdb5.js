import{a as t,j as s}from"./jsx-runtime-670450c2.js";import{u as i}from"./index-2bd4dd7a.js";import{r as u}from"./index-f1f749bf.js";import{S as z}from"./checked-7deae79e.js";import{a as T,c as Z,t as H}from"./template-ts.esm-968fffec.js";import{E as b}from"./Editor-3d808325.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-42a3adc5.js";import"./_baseIsEqual-822f1782.js";const $=r=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960",...r},u.createElement("path",{d:"M453 776h60V610h167v-60H513V376h-60v174H280v60h173v166Zm27.266 200q-82.734 0-155.5-31.5t-127.266-86q-54.5-54.5-86-127.341Q80 658.319 80 575.5q0-82.819 31.5-155.659Q143 347 197.5 293t127.341-85.5Q397.681 176 480.5 176q82.819 0 155.659 31.5Q709 239 763 293t85.5 127Q880 493 880 575.734q0 82.734-31.5 155.5T763 858.316q-54 54.316-127 86Q563 976 480.266 976Zm.234-60Q622 916 721 816.5t99-241Q820 434 721.188 335 622.375 236 480 236q-141 0-240.5 98.812Q140 433.625 140 576q0 141 99.5 240.5t241 99.5Zm-.5-340Z"})),D=r=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960",...r},u.createElement("path",{d:"M261 936q-24.75 0-42.375-17.625T201 876V306h-41v-60h188v-30h264v30h188v60h-41v570q0 24-18 42t-42 18H261Zm438-630H261v570h438V306ZM367 790h60V391h-60v399Zm166 0h60V391h-60v399ZM261 306v570-570Z"})),w=r=>r.isCorrect,p=({question:r,richtextMode:h,onChange:a,warning:g})=>{const v=e=>r.choices.length<2||e.isCorrect,S=e=>{a({...r,question:e})},W=(e,n)=>{a(i(r,{choices:{[e]:{answer:{$set:n}}}}))},j=e=>{a(i(r,{choices:{$splice:[[e+1,0,T()]]}}))},R=e=>{a(i(r,{choices:{$splice:[[e,1]]}}))},k=e=>{a(i(r,{choices:{$apply:n=>n.map(o=>({...o,isCorrect:o.id===e.id}))}}))};return t("div",{children:[s("h2",{className:"mb-2 text-xl font-semibold",children:"Question:"}),s(b,{value:r.question,onChange:S,richtextMode:h}),g,s("h2",{className:"my-2 text-xl font-semibold",children:"Answers:"}),r.choices.map((e,n)=>t("div",{children:[t("h3",{className:"mb-2 font-semibold text-l",children:["Answer ",n+1,": ",e.isCorrect&&s("span",{className:"text-emerald-500",children:"Correct"})]}),t("div",{className:"relative mb-6",children:[t("div",{className:"absolute inset-y-0 left-0 flex flex-col items-center justify-center gap-2 pl-3",children:[t("button",{type:"button",role:"toggle-answer","aria-disabled":w(e),disabled:w(e),className:"text-slate-400 hover:rounded-lg hover:border hover:bg-emerald-200 disabled:cursor-not-allowed disabled:bg-transparent disabled:text-emerald-400",onClick:()=>k(e),children:[s(z,{className:"w-8 h-8",fill:"currentColor"}),s("span",{className:"sr-only",children:"Mark as correct answer"})]}),t("button",{type:"button",role:"remove-answer","aria-disabled":v(e),disabled:v(e),className:"text-red-400 hover:rounded-lg hover:border hover:bg-red-200 disabled:cursor-not-allowed disabled:bg-transparent",onClick:()=>R(n),children:[s(D,{className:"w-8 h-8",fill:"currentColor"}),s("span",{className:"sr-only",children:"Remove this answer"})]}),t("button",{type:"button",role:"add-answer",onClick:()=>j(n),className:"text-blue-400 hover:rounded-lg hover:border hover:bg-blue-200",children:[s($,{className:"w-8 h-8",fill:"currentColor"}),s("span",{className:"sr-only",children:"Add an answer after"})]})]}),t("div",{className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-14 lg:py-5",children:[s(b,{value:e.answer,onChange:o=>W(n,o),richtextMode:h}),g]})]})]},e.id))]},r.id)};try{p.displayName="QuizEditor",p.__docgenInfo={description:"Renders a QuizEditor component with question, answers, and warning.",displayName:"QuizEditor",props:{question:{defaultValue:null,description:"The quiz question object",name:"question",required:!0,type:{name:"{ question: string; choices: { answer: string; isCorrect: boolean; id?: string | undefined; }[]; id?: string | undefined; }"}},richtextMode:{defaultValue:null,description:"Whether richtext mode is enabled",name:"richtextMode",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"Function to handle any changes on the question, including adding/editing/removing answers",name:"onChange",required:!0,type:{name:"(question: { question: string; choices: { answer: string; isCorrect: boolean; id?: string | undefined; }[]; id?: string | undefined; }) => void"}},warning:{defaultValue:null,description:"Warning message component to display",name:"warning",required:!1,type:{name:"ReactNode"}}}}}catch{}const L={title:"Components/QuizEditor",component:p,tags:["docsPage"],argTypes:{question:{control:{type:"object"}},richtextMode:{control:{type:"boolean"}},onChange:{control:{type:"function"}},warning:{control:{type:"object"}}}},l={args:{question:Z()}},d={args:{question:Z(),richtextMode:!1}},c={args:{question:H[0]}},m={args:{question:H[0],warning:s("div",{children:"Warning"})}};var f,y,q;l.parameters={...l.parameters,docs:{...(f=l.parameters)==null?void 0:f.docs,source:{originalSource:`{
  args: {
    question: createQuestion()
  }
}`,...(q=(y=l.parameters)==null?void 0:y.docs)==null?void 0:q.source}}};var Q,x,N;d.parameters={...d.parameters,docs:{...(Q=d.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    question: createQuestion(),
    richtextMode: false
  }
}`,...(N=(x=d.parameters)==null?void 0:x.docs)==null?void 0:N.source}}};var C,E,A;c.parameters={...c.parameters,docs:{...(C=c.parameters)==null?void 0:C.docs,source:{originalSource:`{
  args: {
    question: testQuestions[0]
  }
}`,...(A=(E=c.parameters)==null?void 0:E.docs)==null?void 0:A.source}}};var M,V,_;m.parameters={...m.parameters,docs:{...(M=m.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {
    question: testQuestions[0],
    warning: <div>Warning</div>
  }
}`,...(_=(V=m.parameters)==null?void 0:V.docs)==null?void 0:_.source}}};const X=["Default","RawMode","HasQuestion","HasQuestionWithWarning"];export{l as Default,c as HasQuestion,m as HasQuestionWithWarning,d as RawMode,X as __namedExportsOrder,L as default};
//# sourceMappingURL=QuizEditor.stories-2b9afdb5.js.map
