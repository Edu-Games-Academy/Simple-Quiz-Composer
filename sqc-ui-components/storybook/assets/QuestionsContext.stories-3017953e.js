import{j as t,a as m,F as _}from"./jsx-runtime-670450c2.js";import{c as p,t as v}from"./template-ts.esm-968fffec.js";import{u as i}from"./index-2bd4dd7a.js";import{r as d}from"./index-f1f749bf.js";import"./_commonjsHelpers-042e6b4d.js";const Q=e=>Math.floor(Math.random()*e);var r=(e=>(e.ADD="add",e.REMOVE="remove",e.UPDATE="update",e.REPLACE="replace",e))(r||{});const q=[p()],f=(e,s)=>{switch(s.type){case"add":return i(e,{$push:[p()]});case"remove":return i(e,{$splice:[[s.index,1]]});case"update":return i(e,{[s.index]:{$set:s.question}});case"replace":return i(e,{$set:s.questions})}},E=()=>{const[e,s]=d.useReducer(f,q);return{questions:e,questionsDispatch:s}},x=d.createContext({}),l=()=>d.useContext(x);function u({children:e}){const{questions:s,questionsDispatch:a}=E(),[n,o]=d.useState(0);return t(x.Provider,{value:{questions:s,questionsDispatch:a,selectedQuestion:n,setSelectedQuestion:o},children:e})}try{l.displayName="useQuestionsContext",l.__docgenInfo={description:"Hook to access question context",displayName:"useQuestionsContext",props:{}}}catch{}try{u.displayName="QuestionsProvider",u.__docgenInfo={description:"Provider element to wrap the other elements to access question context",displayName:"QuestionsProvider",props:{}}}catch{}const N={title:"Components/QuestionsProvider",component:u},P=()=>{const{questions:e,selectedQuestion:s,setSelectedQuestion:a,questionsDispatch:n}=l(),o={border:"solid 1px black",margin:4};return m(_,{children:[t("button",{style:o,onClick:()=>a(Q(e.length)),children:"Change question"}),t("button",{style:o,onClick:()=>n({type:r.REPLACE,questions:q}),children:"Reset questions"}),t("button",{style:o,onClick:()=>n({type:r.REPLACE,questions:v}),children:"Load questions"}),t("button",{style:o,onClick:()=>n({type:r.ADD}),children:"Add question"}),t("button",{style:o,onClick:()=>n({type:r.UPDATE,index:0,question:p({question:"New question"})}),children:"Update first"}),t("button",{style:o,onClick:()=>n({type:r.REMOVE,index:0}),children:"Remove first"}),m("div",{children:["Selected question: ",s]}),t("div",{children:t("pre",{children:JSON.stringify(e[s])})}),t("div",{children:t("pre",{children:JSON.stringify(e,null,2)})})]})},c=()=>t(u,{children:t(P,{})});var h,y,C;c.parameters={...c.parameters,docs:{...(h=c.parameters)==null?void 0:h.docs,source:{originalSource:`() => <QuestionsProvider>
    <ChildComponent />
  </QuestionsProvider>`,...(C=(y=c.parameters)==null?void 0:y.docs)==null?void 0:C.source}}};const S=["Default"];export{c as Default,S as __namedExportsOrder,N as default};
//# sourceMappingURL=QuestionsContext.stories-3017953e.js.map
