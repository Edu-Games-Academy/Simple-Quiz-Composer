import{j as s,a as m,F as _}from"./jsx-runtime-670450c2.js";import{c as d,a as f,t as g}from"./template-ts.esm-968fffec.js";import{r as i}from"./index-f1f749bf.js";import{u as c}from"./index-2bd4dd7a.js";import"./_commonjsHelpers-042e6b4d.js";const E=e=>Math.floor(Math.random()*e);var r=(e=>(e.ADD="add",e.REMOVE="remove",e.UPDATE="update",e.REPLACE="replace",e))(r||{});const q=[d()],v=(e,t)=>{switch(t.type){case"add":return c(e,{$push:[d()]});case"remove":return c(e,{$splice:[[t.index,1]]});case"update":return c(e,{[t.index]:{$set:t.question}});case"replace":return c(e,{$set:t.questions})}},Q=()=>{const[e,t]=i.useReducer(v,q);return{questions:e,questionsDispatch:t}},x=i.createContext({}),l=()=>i.useContext(x);function p({children:e}){const{questions:t,questionsDispatch:a}=Q(),[o,n]=i.useState(0);return s(x.Provider,{value:{questions:t,questionsDispatch:a,selectedQuestion:o,setSelectedQuestion:n},children:e})}try{l.displayName="useQuestionsContext",l.__docgenInfo={description:"Hook to access question context",displayName:"useQuestionsContext",props:{}}}catch{}try{p.displayName="QuestionsProvider",p.__docgenInfo={description:"Provider element to wrap the other elements to access question context",displayName:"QuestionsProvider",props:{}}}catch{}const S={title:"Components/QuestionsContext",component:p,tags:["docsPage"],argTypes:{children:{control:{type:"object"}}}},P=()=>{const{questions:e,selectedQuestion:t,setSelectedQuestion:a,questionsDispatch:o}=l(),n={border:"solid 1px black",margin:4};return i.useEffect(()=>{o({type:r.REPLACE,questions:[d({id:"1",choices:[f({id:"1.1",isCorrect:!0})]})]})},[]),m(_,{children:[s("button",{style:n,onClick:()=>a(E(e.length)),children:"Change question"}),s("button",{style:n,onClick:()=>o({type:r.REPLACE,questions:q}),children:"Reset questions"}),s("button",{style:n,onClick:()=>o({type:r.REPLACE,questions:g}),children:"Load questions"}),s("button",{style:n,onClick:()=>o({type:r.ADD}),children:"Add question"}),s("button",{style:n,onClick:()=>o({type:r.UPDATE,index:0,question:d({question:"New question"})}),children:"Update first"}),s("button",{style:n,onClick:()=>o({type:r.REMOVE,index:0}),children:"Remove first"}),m("div",{children:["Selected question: ",t]}),s("div",{children:s("pre",{children:JSON.stringify(e[t])})}),s("div",{children:s("pre",{children:JSON.stringify(e,null,2)})})]})},u={args:{children:s(P,{})}};var h,y,C;u.parameters={...u.parameters,docs:{...(h=u.parameters)==null?void 0:h.docs,source:{originalSource:`{
  args: {
    children: <ChildComponent />
  }
}`,...(C=(y=u.parameters)==null?void 0:y.docs)==null?void 0:C.source}}};const A=["Default"];export{u as Default,A as __namedExportsOrder,S as default};
//# sourceMappingURL=QuestionsContext.stories-ce6a5cbd.js.map
