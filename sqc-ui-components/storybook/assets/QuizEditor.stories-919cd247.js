import{a as t,j as r}from"./jsx-runtime-670450c2.js";import{u as c}from"./index-2bd4dd7a.js";import{r as u}from"./index-f1f749bf.js";import{S as z}from"./checked-7deae79e.js";import{a as T,c as Z,t as H}from"./template-ts.esm-968fffec.js";import{E as v}from"./Editor-0b3cb1c6.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-42a3adc5.js";import"./_baseIsEqual-822f1782.js";const $=s=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960",...s},u.createElement("path",{d:"M453 776h60V610h167v-60H513V376h-60v174H280v60h173v166Zm27.266 200q-82.734 0-155.5-31.5t-127.266-86q-54.5-54.5-86-127.341Q80 658.319 80 575.5q0-82.819 31.5-155.659Q143 347 197.5 293t127.341-85.5Q397.681 176 480.5 176q82.819 0 155.659 31.5Q709 239 763 293t85.5 127Q880 493 880 575.734q0 82.734-31.5 155.5T763 858.316q-54 54.316-127 86Q563 976 480.266 976Zm.234-60Q622 916 721 816.5t99-241Q820 434 721.188 335 622.375 236 480 236q-141 0-240.5 98.812Q140 433.625 140 576q0 141 99.5 240.5t241 99.5Zm-.5-340Z"})),D=s=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960",...s},u.createElement("path",{d:"M261 936q-24.75 0-42.375-17.625T201 876V306h-41v-60h188v-30h264v30h188v60h-41v570q0 24-18 42t-42 18H261Zm438-630H261v570h438V306ZM367 790h60V391h-60v399Zm166 0h60V391h-60v399ZM261 306v570-570Z"})),b=s=>s.isCorrect,q=({question:s,richtextMode:p,onChange:a,warning:h})=>{const g=e=>s.choices.length<2||e.isCorrect,S=e=>{a({...s,question:e})},W=(e,n)=>{a(c(s,{choices:{[e]:{answer:{$set:n}}}}))},j=e=>{a(c(s,{choices:{$splice:[[e+1,0,T()]]}}))},R=e=>{a(c(s,{choices:{$splice:[[e,1]]}}))},k=e=>{a(c(s,{choices:{$apply:n=>n.map(o=>({...o,isCorrect:o.id===e.id}))}}))};return t("div",{children:[r("h2",{className:"sqc-mb-2 sqc-text-xl sqc-font-semibold",children:"Question:"}),r(v,{value:s.question,onChange:S,richtextMode:p}),h,r("h2",{className:"sqc-my-2 sqc-text-xl sqc-font-semibold",children:"Answers:"}),s.choices.map((e,n)=>t("div",{children:[t("h3",{className:"sqc-mb-2 sqc-font-semibold sqc-text-l",children:["Answer ",n+1,": ",e.isCorrect&&r("span",{className:"sqc-text-emerald-500",children:"Correct"})]}),t("div",{className:"sqc-relative sqc-mb-6",children:[t("div",{className:"sqc-absolute sqc-inset-y-0 sqc-left-0 sqc-flex sqc-flex-col sqc-items-center sqc-justify-center sqc-gap-2 sqc-pl-3",children:[t("button",{type:"button",role:"toggle-answer","aria-disabled":b(e),disabled:b(e),className:"sqc-text-slate-400 hover:sqc-rounded-lg hover:sqc-border hover:sqc-bg-emerald-200 disabled:sqc-cursor-not-allowed disabled:sqc-bg-transparent disabled:sqc-text-emerald-400",onClick:()=>k(e),children:[r(z,{className:"sqc-w-8 sqc-h-8",fill:"currentColor"}),r("span",{className:"sqc-sr-only",children:"Mark as correct answer"})]}),t("button",{type:"button",role:"remove-answer","aria-disabled":g(e),disabled:g(e),className:"sqc-text-red-400 hover:sqc-rounded-lg hover:sqc-border hover:sqc-bg-red-200 disabled:sqc-cursor-not-allowed disabled:sqc-bg-transparent",onClick:()=>R(n),children:[r(D,{className:"sqc-w-8 sqc-h-8",fill:"currentColor"}),r("span",{className:"sqc-sr-only",children:"Remove this answer"})]}),t("button",{type:"button",role:"add-answer",onClick:()=>j(n),className:"sqc-text-blue-400 hover:sqc-rounded-lg hover:sqc-border hover:sqc-bg-blue-200",children:[r($,{className:"sqc-w-8 sqc-h-8",fill:"currentColor"}),r("span",{className:"sqc-sr-only",children:"Add an answer after"})]})]}),t("div",{className:"sqc-block sqc-w-full sqc-rounded-lg sqc-border sqc-border-gray-300 sqc-bg-gray-50 sqc-p-2.5 sqc-pl-14 lg:sqc-py-5",children:[r(v,{value:e.answer,onChange:o=>W(n,o),richtextMode:p}),h]})]})]},e.id))]},s.id)};try{q.displayName="QuizEditor",q.__docgenInfo={description:"Renders a QuizEditor component with question, answers, and warning.",displayName:"QuizEditor",props:{question:{defaultValue:null,description:"The quiz question object",name:"question",required:!0,type:{name:"{ question: string; choices: { answer: string; isCorrect: boolean; id?: string | undefined; }[]; id?: string | undefined; }"}},richtextMode:{defaultValue:null,description:"Whether richtext mode is enabled",name:"richtextMode",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"Function to handle any changes on the question, including adding/editing/removing answers",name:"onChange",required:!0,type:{name:"(question: { question: string; choices: { answer: string; isCorrect: boolean; id?: string | undefined; }[]; id?: string | undefined; }) => void"}},warning:{defaultValue:null,description:"Warning message component to display",name:"warning",required:!1,type:{name:"ReactNode"}}}}}catch{}const L={title:"Components/QuizEditor",component:q,tags:["docsPage"],argTypes:{question:{control:{type:"object"}},richtextMode:{control:{type:"boolean"}},onChange:{control:{type:"function"}},warning:{control:{type:"object"}}}},i={args:{question:Z()}},l={args:{question:Z(),richtextMode:!1}},d={args:{question:H[0]}},m={args:{question:H[0],warning:r("div",{children:"Warning"})}};var w,f,y;i.parameters={...i.parameters,docs:{...(w=i.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    question: createQuestion()
  }
}`,...(y=(f=i.parameters)==null?void 0:f.docs)==null?void 0:y.source}}};var Q,x,N;l.parameters={...l.parameters,docs:{...(Q=l.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    question: createQuestion(),
    richtextMode: false
  }
}`,...(N=(x=l.parameters)==null?void 0:x.docs)==null?void 0:N.source}}};var C,E,A;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:`{
  args: {
    question: testQuestions[0]
  }
}`,...(A=(E=d.parameters)==null?void 0:E.docs)==null?void 0:A.source}}};var M,V,_;m.parameters={...m.parameters,docs:{...(M=m.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {
    question: testQuestions[0],
    warning: <div>Warning</div>
  }
}`,...(_=(V=m.parameters)==null?void 0:V.docs)==null?void 0:_.source}}};const X=["Default","RawMode","HasQuestion","HasQuestionWithWarning"];export{i as Default,d as HasQuestion,m as HasQuestionWithWarning,l as RawMode,X as __namedExportsOrder,L as default};
//# sourceMappingURL=QuizEditor.stories-919cd247.js.map
